@model Travel_Agency___Data.ViewModels.ProfileViewModel

@{
    ViewData["Title"] = "Profile";
    var imagePath = $"/images/profile_pictures/customer_{Model.CustomerId}.jpg";
}

<div class="container mb-4" style="margin-top: 7rem;">
    <h2 class="text-center mb-4">Your Profile</h2>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-body">
                    <!-- Profile Picture Section -->
                    <div class="text-center mb-4">
                        <img src="@imagePath" alt="Profile Picture"
                             style="width: 200px; height: 200px; border-radius: 50%;"
                             onerror="this.src='/images/profile_pictures/defaultimage.png'" />

                        

                        <form asp-action="UpdateProfilePicture" method="post" enctype="multipart/form-data" class="mt-3">
                            <div class="form-group">
                                <input type="file" name="profilePicture" accept="image/*" class="form-control" />
                            </div>
                            <button type="submit" class="btn btn-primary mt-2">Update Picture</button>
                        </form>
                    </div>

                    <!-- Profile Information -->
                    <h5><strong>First Name:</strong> @Model.CustFirstName</h5>
                    <h5><strong>Last Name:</strong> @Model.CustLastName</h5>
                    <h5><strong>Address:</strong> @Model.CustAddress</h5>
                    <h5><strong>City:</strong> @Model.CustCity</h5>
                    <h5><strong>Province:</strong> @Model.CustProv</h5>
                    <h5><strong>Postal Code:</strong> @Model.CustPostal</h5>
                    <h5><strong>Country:</strong> @Model.CustCountry</h5>
                    <h5><strong>Home Phone:</strong> @Model.CustHomePhone</h5>
                    <h5><strong>Business Phone:</strong> @Model.CustBusPhone</h5>
                    <h5><strong>Email:</strong> @Model.CustEmail</h5>

                    <div class="text-center mt-4">
                        <a href="@Url.Action("EditProfile")" class="btn btn-warning btn-lg">Edit Profile</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>